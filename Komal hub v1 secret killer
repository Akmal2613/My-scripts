local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Gui = Instance.new("ScreenGui")
Gui.Parent = LocalPlayer:WaitForChild("PlayerGui")

local function createNotification(itemName, player)
    local notification = Instance.new("Frame")
    notification.Size = UDim2.new(0.3, 0, 0.1, 0)
    notification.Position = UDim2.new(0, 10, 1, -110)
    notification.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
    notification.BorderSizePixel = 0
    notification.Parent = Gui

    local avatar = Instance.new("ImageLabel")
    avatar.Size = UDim2.new(0.2, 0, 1, 0)
    avatar.Position = UDim2.new(0, 5, 0, 0)
    avatar.Image = "rbxthumb://type=AvatarHeadShot&id=" .. player.UserId .. "&w=150&h=150"
    avatar.BackgroundTransparency = 1
    avatar.Parent = notification

    local textLabel = Instance.new("TextLabel")
    textLabel.Size = UDim2.new(0.75, 0, 1, 0)
    textLabel.Position = UDim2.new(0.25, 10, 0, 0)
    textLabel.BackgroundTransparency = 1
    textLabel.Font = Enum.Font.ArialBold
    textLabel.TextSize = 16
    textLabel.TextColor3 = Color3.new(1, 1, 1)
    textLabel.Text = itemName .. " is " .. player.Name
    textLabel.TextXAlignment = Enum.TextXAlignment.Left
    textLabel.Parent = notification

    wait(5) -- Notifikasi bertahan selama 5 detik
    notification:Destroy()
end

local function checkPlayers()
    for _, player in pairs(Players:GetPlayers()) do
        local inventory = player:FindFirstChild("Inventory")
        if inventory then
            if inventory:FindFirstChild("Monster") then
                createNotification("Monster", player)
            elseif inventory:FindFirstChild("Gun") then
                createNotification("Sheriff", player)
            end
        end
    end
end

Players.PlayerAdded:Connect(function(player)
    player.CharacterAdded:Connect(function()
        checkPlayers()
    end)
end)

checkPlayers() -- Mengecek saat game dimulai


repeat task.wait(0.25) until game:IsLoaded();
getgenv().Image = "rbxassetid://130941267137416"; -- put a asset id in here to make it work
getgenv().ToggleUI = "E" -- This where you can Toggle the Fluent ui library

task.spawn(function()
    if not getgenv().LoadedMobileUI == true then getgenv().LoadedMobileUI = true
        local OpenUI = Instance.new("ScreenGui");
        local ImageButton = Instance.new("ImageButton");
        local UICorner = Instance.new("UICorner");
        OpenUI.Name = "OpenUI";
        OpenUI.Parent = game:GetService("CoreGui");
        OpenUI.ZIndexBehavior = Enum.ZIndexBehavior.Sibling;
        ImageButton.Parent = OpenUI;
        ImageButton.BackgroundColor3 = Color3.fromRGB(105,105,105);
        ImageButton.BackgroundTransparency = 0.8
        ImageButton.Position = UDim2.new(0.9,0,0.1,0);
        ImageButton.Size = UDim2.new(0,50,0,50);
        ImageButton.Image = getgenv().Image;
        ImageButton.Draggable = true;
        ImageButton.Transparency = 1;
        UICorner.CornerRadius = UDim.new(0,200);
        UICorner.Parent = ImageButton;
        ImageButton.MouseButton1Click:Connect(function()
game:GetService("VirtualInputManager"):SendKeyEvent(true,getgenv().ToggleUI,false,game);
        end)
    end
end)

local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/Vcsk/UI-Library/main/Source/Orion.lua')))()

local Window = OrionLib:MakeWindow({Name = "KoMal Hub", HidePremium = false, SaveConfig = true, ConfigFolder = "OrionTest"})

local Tab = Window:MakeTab({
    Name = "Main",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

local Section = Tab:AddSection({
    Name = "Secret Killer Script"
})

OrionLib:MakeNotification({
    Name = "Welcome To My Hub",
    Content = "KoMal Hub",
    Image = "rbxassetid://4483345998",
    Time = 2
})

Tab:AddButton({
    Name = "Esp Monster & Sheriff",
    Callback = function()-- Fungsi untuk memeriksa apakah pemain memiliki item tertentu
local function analyzePlayerInventory(player)
    local function checkItem(itemName)
        local inventory = player.Backpack:GetChildren()
        local character = player.Character
        -- Memeriksa di inventory
        for _, item in pairs(inventory) do
            if item.Name == itemName then
                return true
            end
        end
        -- Memeriksa di karakter
        if character then
            for _, item in pairs(character:GetChildren()) do
                if item:IsA("Tool") and item.Name == itemName then
                    return true
                end
            end
        end
        return false
    end

    local hasMonster = checkItem("Monster")
    local hasGun = checkItem("Gun")

    -- Menambahkan highlight berdasarkan item yang dimiliki
    local highlight = player.Character:FindFirstChild("Highlight")
    if not highlight then
        highlight = Instance.new("Highlight")
        highlight.Adornee = player.Character
        highlight.Parent = player.Character
    end

    -- Set warna highlight sesuai dengan kondisi
    if hasMonster then
        highlight.FillColor = Color3.new(1, 0, 0) -- Merah untuk "Monster"
    elseif hasGun then
        highlight.FillColor = Color3.new(0, 0, 1) -- Biru untuk "Gun"
    else
        highlight.FillColor = Color3.new(0, 1, 0) -- Hijau untuk pemain yang tidak memiliki "Gun" atau "Monster"
    end
end

-- Fungsi untuk menganalisis semua pemain secara terus-menerus
local function startAnalyzing()
    while true do
        for _, player in pairs(game.Players:GetPlayers()) do
            if player.Character then
                analyzePlayerInventory(player)
            end
        end
        wait(1) -- Mengupdate setiap detik
    end
end

-- Menyambungkan fungsi untuk menganalisis pemain yang baru masuk
game.Players.PlayerAdded:Connect(function(player)
    player.CharacterAdded:Connect(function()
        wait(1)
        analyzePlayerInventory(player)
    end)
end)

-- Menganalisis semua pemain yang sudah ada saat ini
for _, player in pairs(game.Players:GetPlayers()) do
    if player.Character then
        analyzePlayerInventory(player)
    end
end

-- Mulai analisis pemain secara terus-menerus
startAnalyzing()
        print("button 1 pressed")
    end    
})

Tab:AddButton({
    Name = "Hitbox Expander(The Good Hitbox Size is 20)",
    Callback = function()
 loadstring(game:HttpGet("https://raw.githubusercontent.com/Vcsk/RobloxScripts/main/HitboxExpander.lua"))()
        print("button 2 pressed")
    end    
})

Tab:AddButton({
    Name = "Cam Lock By ItsLouisPlayz",
    Callback = function()

        --// Mobile Supported Universal Camlock Made By ItsLouisPlayz AKA 1ml3g1t
Prediction = true -- Set this to true if u want to enable prediction
Prediction_Value = 0.157
--// Aim at the player u want lock on
loadstring(game:HttpGet("https://raw.githubusercontent.com/louismich4el/ItsLouisPlayz-Scripts/main/Universal%20Camlock.lua"))()

    
        print("button 3 pressed")
    end    
})

Tab:AddButton({
    Name = "Shiftlock",
    Callback = function()loadstring(game:HttpGet("https://pastefy.app/h6X4xl6e/raw",true))()
        print("button 4 pressed")
    end    
})

Tab:AddButton({
    Name = "Teleport To Lobby",
    Callback = function()-- Masukkan koordinat posisi tujuan
local targetPosition = Vector3.new(0-363.672, 33.0084, -9224.38) -- Ganti dengan posisi yang kamu inginkan

-- Referensi ke pemain lokal
local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Fungsi untuk teleportasi
local function teleportPlayer()
    if character then
        local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
        if humanoidRootPart then
            humanoidRootPart.CFrame = CFrame.new(targetPosition)
        else
            warn("Tidak ditemukan HumanoidRootPart!")
        end
    else
        warn("Karakter tidak ditemukan!")
    end
end

-- Contoh penggunaan teleportasi (dengan tombol klik misalnya)
teleportPlayer()
        print("button 5 pressed")
    end    
})

Tab:AddButton({
    Name = "Take Gun button (unstable)",
    Callback = function()
local function teleportToGun()
    -- Referensi ke objek
    local gunPickupHolder = game.Workspace:FindFirstChild("GunPickupHolder")
    if not gunPickupHolder then
        warn("GunPickupHolder tidak ditemukan!")
        return
    end

    local gunPickup = gunPickupHolder:FindFirstChild("GunPickup")
    if not gunPickup then
        warn("GunPickup tidak ditemukan!")
        return
    end

    local part = gunPickup:FindFirstChild("Part")
    if not part then
        warn("Part tidak ditemukan!")
        return
    end

    -- Referensi ke pemain lokal
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

    -- Teleportasi ke "Part"
    humanoidRootPart.CFrame = part.CFrame
    print("Teleportasi ke Part!")
end
        print("button 6 pressed")
    end    
})

Tab:AddToggle({
    Name = "Full Bright",
    Default = false,
    Callback = function(Value)
        if Value then
            game:GetService("Lighting").Brightness = 10
            game:GetService("Lighting").ClockTime = 12
            game:GetService("Lighting").FogEnd = 10000
            game:GetService("Lighting").GlobalShadows = true
            game:GetService("Lighting").OutdoorAmbient = Color3.fromRGB(127, 127, 127)
        else
            game:GetService("Lighting").Brightness = 2
            game:GetService("Lighting").ClockTime = 14
            game:GetService("Lighting").FogEnd = 100000
            game:GetService("Lighting").GlobalShadows = false
            game:GetService("Lighting").OutdoorAmbient = Color3.fromRGB(128, 128, 128)
        end
    end
})

Tab:AddButton({
    Name = "Spectator",
    Callback = function()loadstring(game:HttpGet("https://raw.githubusercontent.com/Akmal2613/My-scripts/refs/heads/main/Spectator(not%20mine)"))()
        print("button 7 pressed")
    end    
})
