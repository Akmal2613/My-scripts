local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/Vcsk/UI-Library/main/Source/Orion.lua')))()

local Window = OrionLib:MakeWindow({Name = "KoMal Hub | Secret Killer", HidePremium = false, SaveConfig = false, ConfigFolder = "KHubSCK", IntroEnabled = false})

local Tab = Window:MakeTab({
    Name = "Main",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

local Section = Tab:AddSection({
    Name = "Secret Killer Script"
})

OrionLib:MakeNotification({
    Name = "Welcome To My Hub",
    Content = "KoMal Hub",
    Image = "rbxassetid://4483345998",
    Time = 2
})

Tab:AddButton({
    Name = "Esp Monster & Sheriff",
    Callback = function()loadstring(game:HttpGet('https://raw.githubusercontent.com/Akmal2613/Secretkilleresp/refs/heads/main/EspSecretKiller'))()
        print("button 1 pressed")
    end    
})

Tab:AddButton({
    Name = "Hitbox Expander (HeadSize = 20)",
    Callback = function()--[[
WARNING: Heads up! This script has not been verified by ScriptBlox. Use at your own risk!
]]
_G.HeadSize = 20
_G.Disabled = true

game:GetService('RunService').RenderStepped:connect(function()
if _G.Disabled then
for i,v in next, game:GetService('Players'):GetPlayers() do
if v.Name ~= game:GetService('Players').LocalPlayer.Name then
pcall(function()
v.Character.HumanoidRootPart.Size = Vector3.new(_G.HeadSize,_G.HeadSize,_G.HeadSize)
v.Character.HumanoidRootPart.Transparency = 2
v.Character.HumanoidRootPart.BrickColor = BrickColor.new("Really blue")
v.Character.HumanoidRootPart.Material = "Neon"
v.Character.HumanoidRootPart.CanCollide = false
end)
end
end
end
end)
        print("button 2 pressed")
    end    
})

Tab:AddButton({
    Name = "Cam Lock By ItsLouisPlayz",
    Callback = function()

        --// Mobile Supported Universal Camlock Made By ItsLouisPlayz AKA 1ml3g1t
Prediction = true -- Set this to true if u want to enable prediction
Prediction_Value = 0.157
--// Aim at the player u want lock on
loadstring(game:HttpGet("https://raw.githubusercontent.com/louismich4el/ItsLouisPlayz-Scripts/main/Universal%20Camlock.lua"))()

    
        print("button 3 pressed")
    end    
})

Tab:AddButton({
    Name = "Shiftlock",
    Callback = function()loadstring(game:HttpGet("https://pastefy.app/h6X4xl6e/raw",true))()
        print("button 4 pressed")
    end    
})

Tab:AddButton({
    Name = "Teleport To Lobby",
    Callback = function()-- Masukkan koordinat posisi tujuan
local targetPosition = Vector3.new(0-363.672, 33.0084, -9224.38) -- Ganti dengan posisi yang kamu inginkan

-- Referensi ke pemain lokal
local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Fungsi untuk teleportasi
local function teleportPlayer()
    if character then
        local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
        if humanoidRootPart then
            humanoidRootPart.CFrame = CFrame.new(targetPosition)
        else
            warn("Tidak ditemukan HumanoidRootPart!")
        end
    else
        warn("Karakter tidak ditemukan!")
    end
end

-- Contoh penggunaan teleportasi (dengan tombol klik misalnya)
teleportPlayer()
        print("button 5 pressed")
    end    
})

Tab:AddButton({
    Name = "Get Gun button (unstable)",
    Callback = function()-- Parent tombol ke CoreGui agar tidak hilang saat respawn
local starterGui = game:GetService("StarterGui")
starterGui:SetCoreGuiEnabled(Enum.CoreGuiType.All, true)

local player = game.Players.LocalPlayer
local mouse = player:GetMouse()

-- Buat GUI
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = game:GetService("CoreGui")

local button = Instance.new("TextButton")
button.Parent = screenGui
button.Size = UDim2.new(0, 100, 0, 50) -- Ukuran tombol kecil
button.Position = UDim2.new(0.1, 0, 0.1, 0) -- Awal posisi di pojok kiri atas
button.Text = "Get Gun"
button.Font = Enum.Font.ArialBold
button.TextSize = 18
button.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
button.TextColor3 = Color3.fromRGB(255, 255, 255)
button.BorderSizePixel = 2
button.Draggable = true -- Bisa digerakkan

-- Referensi ke Part dalam GunPickupHolder
local function getGunPart()
    local gunPickupHolder = game.Workspace:FindFirstChild("GunPickupHolder")
    if gunPickupHolder then
        local gunPickup = gunPickupHolder:FindFirstChild("GunPickup")
        if gunPickup then
            return gunPickup:FindFirstChild("Part")
        end
    end
    return nil
end

-- Fungsi teleportasi
local function teleportPlayer()
    local character = player.Character
    if not character then return end

    local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
    if not humanoidRootPart then return end

    local part = getGunPart()
    if not part then
        warn("Part tidak ditemukan!")
        return
    end

    -- Simpan posisi awal
    local originalPosition = humanoidRootPart.CFrame

    -- Teleport ke Part
    humanoidRootPart.CFrame = part.CFrame

    -- Kembali ke posisi awal setelah 1 milidetik (0.001 detik)
    task.wait(0.001)
    humanoidRootPart.CFrame = originalPosition
end

-- Event klik tombol untuk teleportasi
button.MouseButton1Click:Connect(teleportPlayer)
print("button 6 pressed")
    end    
})

Tab:AddToggle({
    Name = "Full Bright",
    Default = false,
    Callback = function(Value)
        if Value then
            game:GetService("Lighting").Brightness = 10
            game:GetService("Lighting").ClockTime = 12
            game:GetService("Lighting").FogEnd = 10000
            game:GetService("Lighting").GlobalShadows = true
            game:GetService("Lighting").OutdoorAmbient = Color3.fromRGB(127, 127, 127)
        else
            game:GetService("Lighting").Brightness = 2
            game:GetService("Lighting").ClockTime = 14
            game:GetService("Lighting").FogEnd = 100000
            game:GetService("Lighting").GlobalShadows = false
            game:GetService("Lighting").OutdoorAmbient = Color3.fromRGB(128, 128, 128)
        end
    end
})

Tab:AddButton({
    Name = "Spectator",
    Callback = function()loadstring(game:HttpGet("https://raw.githubusercontent.com/Akmal2613/My-scripts/refs/heads/main/Spectator(not%20mine)"))()
        print("button 7 pressed")
    end    
})

Tab:AddButton({
    Name = "AimLock(Cop2Monster,Monster2CopNIno",
    Callback = function()-- Services
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")

-- Player Variables
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera

-- Aim Settings
local AimEnabled = false
local AimPart = "Head" -- Bagian tubuh yang di-lock
local Smoothness = 0.1 

-- == GUI SETUP == --

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "AimlockGui"
ScreenGui.ResetOnSpawn = false
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

if syn then
    syn.protect_gui(ScreenGui)
end
ScreenGui.Parent = game:GetService("CoreGui")

-- Main Frame
local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Size = UDim2.new(0, 220, 0, 150) -- Tinggi ditambah sedikit untuk notif
MainFrame.Position = UDim2.new(0.5, -110, 0.5, -75)
MainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
MainFrame.BorderSizePixel = 0
MainFrame.Active = true
MainFrame.Parent = ScreenGui

local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 8)
UICorner.Parent = MainFrame

-- Header
local Header = Instance.new("TextLabel")
Header.Name = "Header"
Header.Size = UDim2.new(1, 0, 0, 30)
Header.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
Header.TextColor3 = Color3.new(1, 1, 1)
Header.Text = "Aimlock Control"
Header.Font = Enum.Font.GothamBold
Header.TextSize = 14
Header.Parent = MainFrame

local HeaderCorner = Instance.new("UICorner")
HeaderCorner.CornerRadius = UDim.new(0, 8)
HeaderCorner.Parent = Header

-- Notification Label (Baru!)
local NotifLabel = Instance.new("TextLabel")
NotifLabel.Name = "NotifLabel"
NotifLabel.Size = UDim2.new(1, -10, 0, 40) -- Ukuran area notif
NotifLabel.Position = UDim2.new(0, 5, 0, 35) -- Posisi di bawah header
NotifLabel.BackgroundTransparency = 1
NotifLabel.TextColor3 = Color3.fromRGB(255, 80, 80) -- Warna Merah
NotifLabel.Text = "KAMU BUKAN COP\nMAUPUN MONSTER!"
NotifLabel.TextScaled = true
NotifLabel.Font = Enum.Font.GothamBold
NotifLabel.Visible = false -- Default tersembunyi
NotifLabel.Parent = MainFrame

-- Tombol On/Off
local ToggleButton = Instance.new("TextButton")
ToggleButton.Name = "ToggleButton"
ToggleButton.Size = UDim2.new(0, 180, 0, 40)
ToggleButton.Position = UDim2.new(0.5, -90, 0, 85) -- Posisi digeser ke bawah
ToggleButton.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
ToggleButton.TextColor3 = Color3.new(1, 1, 1)
ToggleButton.Text = "OFF"
ToggleButton.Font = Enum.Font.GothamBold
ToggleButton.TextSize = 16
ToggleButton.Parent = MainFrame

local ButtonCorner = Instance.new("UICorner")
ButtonCorner.CornerRadius = UDim.new(0, 6)
ButtonCorner.Parent = ToggleButton

-- Label Status Bawah
local StatusLabel = Instance.new("TextLabel")
StatusLabel.Name = "StatusLabel"
StatusLabel.Size = UDim2.new(1, 0, 0, 20)
StatusLabel.Position = UDim2.new(0, 0, 1, -20)
StatusLabel.BackgroundTransparency = 1
StatusLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
StatusLabel.Text = "Checking items..."
StatusLabel.TextSize = 10
StatusLabel.Font = Enum.Font.Gotham
StatusLabel.Parent = MainFrame

-- == DRAG FUNCTION == --

local dragging = false
local dragInput, dragStart, startPos

Header.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = MainFrame.Position
        
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

Header.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragInput = input
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        local delta = input.Position - dragStart
        MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end)

-- == AIMLOCK LOGIC == --

ToggleButton.MouseButton1Click:Connect(function()
    AimEnabled = not AimEnabled
    if AimEnabled then
        ToggleButton.BackgroundColor3 = Color3.fromRGB(50, 255, 50)
        ToggleButton.Text = "ON"
    else
        ToggleButton.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
        ToggleButton.Text = "OFF"
    end
end)

local function getClosestTarget()
    local myChar = LocalPlayer.Character
    if not myChar then return nil end
    local myRoot = myChar:FindFirstChild("HumanoidRootPart")
    if not myRoot then return nil end
    
    local myBackpack = LocalPlayer.Backpack
    local hasGun = myBackpack:FindFirstChild("Gun") or myChar:FindFirstChild("Gun")
    local hasMonster = myBackpack:FindFirstChild("Monster") or myChar:FindFirstChild("Monster")

    -- LOGIKA NOTIF: Jika gak ada dua-duanya
    if not hasGun and not hasMonster then
        NotifLabel.Visible = true
        return nil -- Stop aimlock karena tidak ada role
    else
        NotifLabel.Visible = false
    end

    local targetList = {}

    for _, player in ipairs(Players:GetPlayers()) do
        if player == LocalPlayer then continue end
        
        local char = player.Character
        if not char then continue end
        
        local head = char:FindFirstChild(AimPart)
        local root = char:FindFirstChild("HumanoidRootPart")
        if not head or not root then continue end
        
        local targetBackpack = player.Backpack
        local targetHasGun = targetBackpack:FindFirstChild("Gun") or char:FindFirstChild("Gun")
        local targetHasMonster = targetBackpack:FindFirstChild("Monster") or char:FindFirstChild("Monster")

        local distance = (myRoot.Position - root.Position).Magnitude
        local priority = 0 

        if hasGun then
            -- Jika saya punya Gun: Target player yang punya Monster
            if targetHasMonster then
                priority = 1 
            end
        elseif hasMonster then
            -- Jika saya punya Monster: Target player yang TIDAK punya Monster
            if not targetHasMonster then
                if targetHasGun then
                    priority = 3 -- Target prioritas (Cop)
                else
                    priority = 2 -- Target biasa
                end
            end
        end

        if priority > 0 then
            table.insert(targetList, {
                Target = head,
                Distance = distance,
                Priority = priority
            })
        end
    end

    if #targetList == 0 then return nil end

    table.sort(targetList, function(a, b)
        if a.Priority ~= b.Priority then
            return a.Priority > b.Priority
        end
        return a.Distance < b.Distance
    end)

    return targetList[1].Target
end

RunService.RenderStepped:Connect(function(deltaTime)
    local myChar = LocalPlayer.Character
    local statusText = "Idle"
    
    if myChar then
        local hasGun = myChar:FindFirstChild("Gun") or LocalPlayer.Backpack:FindFirstChild("Gun")
        local hasMonster = myChar:FindFirstChild("Monster") or LocalPlayer.Backpack:FindFirstChild("Monster")
        
        if not hasGun and not hasMonster then
            statusText = "No Items"
        elseif hasGun then
            statusText = "Role: Cop (Gun)" 
        elseif hasMonster then
            statusText = "Role: Monster"
        end
    end
    StatusLabel.Text = statusText

    -- Eksekusi Aimlock
    if AimEnabled then
        local target = getClosestTarget()
        
        if target then
            local currentCFrame = Camera.CFrame
            local lookAtTarget = CFrame.lookAt(currentCFrame.Position, target.Position)
            Camera.CFrame = currentCFrame:Lerp(lookAtTarget, 1 - Smoothness)
        end
    end
end)
        print("button 8 pressed")
    end    
})

